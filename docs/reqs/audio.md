# –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Audio —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ MVP –≤–µ–±-–≤–µ—Ä—Å–∏–∏

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

–í MVP –≤–µ–±-–≤–µ—Ä—Å–∏–∏ **–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞** –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ç–∏–ø–∞ `audio`. –í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è MVP –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —ç–ª–µ–º–µ–Ω—Ç—ã —Ç–∏–ø–∞ `message` –∏ `quiz`.

## –û–ø–∏—Å–∞–Ω–∏–µ Audio —ç–ª–µ–º–µ–Ω—Ç–∞

–°–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ `docs/elements.md`, —ç–ª–µ–º–µ–Ω—Ç `audio` –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∞—É–¥–∏–æ—Å–æ–æ–±—â–µ–Ω–∏—è —Å —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞—é—â–∏–º —Ç–µ–∫—Å—Ç–æ–º. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –Ω–∞ –∞—É–¥–∏—Ä–æ–≤–∞–Ω–∏–µ, –¥–∏–∞–ª–æ–≥–æ–≤, –ø—Ä–∏–º–µ—Ä–æ–≤ –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏—è.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã Audio —ç–ª–µ–º–µ–Ω—Ç–∞

–°–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, —ç–ª–µ–º–µ–Ω—Ç `audio` –¥–æ–ª–∂–µ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

- `type`: `audio` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `media` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) - –º–∞—Å—Å–∏–≤ URL –∞—É–¥–∏–æ—Ñ–∞–π–ª–æ–≤ (–æ–±—ã—á–Ω–æ –æ–¥–∏–Ω —Ñ–∞–π–ª)
- `text` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - —Ç–µ–∫—Å—Ç –ø–µ—Ä–µ–¥ –∏–ª–∏ –≤–º–µ—Å—Ç–µ —Å –∞—É–¥–∏–æ
- `parse_mode` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - —Ä–µ–∂–∏–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ (MARKDOWN, HTML)
- `link_preview` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏ –ø—Ä–µ–≤—å—é —Å—Å—ã–ª–æ–∫

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ Audio —ç–ª–µ–º–µ–Ω—Ç–∞

1. –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–µ–∫—Å—Ç (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω) –∏ –∞—É–¥–∏–æ —Ñ–∞–π–ª(—ã)
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–æ—Å–ª—É—à–∞—Ç—å –∞—É–¥–∏–æ
3. –≠–ª–µ–º–µ–Ω—Ç –Ω–µ –æ–∂–∏–¥–∞–µ—Ç –æ—Ç–≤–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ —Å–ª–µ–¥—É—é—â–µ–º—É
4. –ö–Ω–æ–ø–∫–∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è
5. –ù–µ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è (–Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –æ—Ç—á–µ—Ç)

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –∞—É–¥–∏–æ:**
- MP3
- M4A
- OGG

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### Backend (`webapp/backend/app/api/v1/mvp.py`)

#### 1. –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å `AudioElement`

–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å Pydantic –¥–ª—è audio —ç–ª–µ–º–µ–Ω—Ç–æ–≤:

```python
class AudioElement(BaseModel):
    element_id: str
    type: str = Field(default="audio", exclude=False)  # –í—Å–µ–≥–¥–∞ –≤–∫–ª—é—á–∞—Ç—å –≤ JSON
    text: Optional[str] = None
    media: List[str]  # –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –º–∞—Å—Å–∏–≤ URL –∞—É–¥–∏–æ—Ñ–∞–π–ª–æ–≤
    parse_mode: Optional[str] = "MARKDOWN"
    link_preview: Optional[bool] = None
```

#### 2. –û–±–Ω–æ–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–∑ YAML

–î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É audio —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ —Ñ—É–Ω–∫—Ü–∏–∏:
- `get_course_data()` - –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é `type: audio`
- `get_first_element_from_course()` - –¥–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É `type: audio`
- `get_next_element_from_course()` - –¥–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É `type: audio`
- `get_current_element_from_conversation()` - –¥–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É audio —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏:**
```python
if element_type == "audio":
    # –û–±—Ä–∞–±–æ—Ç–∫–∞ link_preview: –º–æ–∂–µ—Ç –±—ã—Ç—å "yes"/"no" –∏–ª–∏ True/False
    link_preview = element_data.get("link_preview")
    if isinstance(link_preview, str):
        link_preview = link_preview.lower() == "yes"
    elif link_preview is None:
        link_preview = None
    else:
        link_preview = bool(link_preview)
    
    # –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º Google Drive —Å—Å—ã–ª–∫–∏ –≤ –ø—Ä–æ–∫—Å–∏ URL –¥–ª—è –æ–±—Ö–æ–¥–∞ CORS
    media = element_data.get("media", [])
    if media and isinstance(media, list):
        from urllib.parse import quote
        media = [
            f"/api/mvp/media/proxy?url={quote(get_direct_download_link(url), safe='')}"
            if extract_file_id_from_drive_url(url) else url
            for url in media
        ]
    
    result = {
        "element_id": element_id,
        "type": "audio",
        "text": element_data.get("text"),
        "media": media,
        "parse_mode": element_data.get("parse_mode", "MARKDOWN"),
        "link_preview": link_preview,
    }
    return result
```

#### 3. –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ `start_course()` –∏ `next_element()` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è audio —ç–ª–µ–º–µ–Ω—Ç–æ–≤:
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å —Ç–∏–ø —ç–ª–µ–º–µ–Ω—Ç–∞ –∫–∞–∫ `"audio"` –≤ –ø–æ–ª–µ `type` –≤ `json_data`
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã audio (`text`, `media`, `parse_mode`, `link_preview`) –≤ `json_data`

#### 4. –û–±–Ω–æ–≤–∏—Ç—å endpoint `get_current_element`

–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å endpoint `/courses/{course_id}/current` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ audio —ç–ª–µ–º–µ–Ω—Ç–æ–≤:
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–∏–ø —ç–ª–µ–º–µ–Ω—Ç–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ñ–æ—Ä–º–∞—Ç
- –î–ª—è audio —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `AudioElement` –∏–ª–∏ —Å–ª–æ–≤–∞—Ä—å —Å –ø–æ–ª–µ–º `type: "audio"`

#### 5. –û–±–Ω–æ–≤–∏—Ç—å endpoint `next_element`

–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å endpoint `/courses/{course_id}/next` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ audio —ç–ª–µ–º–µ–Ω—Ç–æ–≤:
- –ü–æ—Å–ª–µ audio —ç–ª–µ–º–µ–Ω—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å audio —ç–ª–µ–º–µ–Ω—Ç –≤ conversation —Å —Ç–∏–ø–æ–º `"audio"`

### Frontend (`webapp/frontend`)

#### 1. –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ç–∏–ø–æ–≤

–î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è audio —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ `app/course/[courseId]/page.tsx`:

```typescript
interface AudioElement {
  element_id: string
  type: "audio"
  text?: string
  media: string[]  // –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –º–∞—Å—Å–∏–≤ URL –∞—É–¥–∏–æ—Ñ–∞–π–ª–æ–≤
  parse_mode?: string
  link_preview?: boolean
}

// –û–±–Ω–æ–≤–∏—Ç—å –æ–±—â–∏–π —Ç–∏–ø —ç–ª–µ–º–µ–Ω—Ç–∞
type CourseElement = MessageElement | QuizElement | AudioElement
```

#### 2. –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç AudioView

–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `components/chat/AudioView.tsx` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è audio —ç–ª–µ–º–µ–Ω—Ç–æ–≤:

```typescript
interface AudioViewProps {
  audio: AudioElement
}

export default function AudioView({ audio }: AudioViewProps) {
  // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:
  // 1. –¢–µ–∫—Å—Ç (–µ—Å–ª–∏ –µ—Å—Ç—å) —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º Markdown/HTML
  // 2. HTML5 audio player –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞—É–¥–∏–æ —Ñ–∞–π–ª–∞
  // 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –ø–æ—Å–ª–µ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
}
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É:**
- –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Ç–µ–∫—Å—Ç (`text`) —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º Markdown/HTML, –µ—Å–ª–∏ –æ–Ω —É–∫–∞–∑–∞–Ω
- –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å HTML5 `<audio>` —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –≤ –º–∞—Å—Å–∏–≤–µ `media`
- –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –∞—É–¥–∏–æ (MP3, M4A, OGG)
- –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –∞—É–¥–∏–æ (fallback –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ)
- –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ backend –¥–ª—è Google Drive —Å—Å—ã–ª–æ–∫
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º)

#### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è AudioView –≤ ChatView

–û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `ChatView.tsx` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ audio —ç–ª–µ–º–µ–Ω—Ç–æ–≤:

```typescript
const renderElement = (element: CourseElement, index: number) => {
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ audio —ç–ª–µ–º–µ–Ω—Ç–æ–≤
  if ('type' in element && element.type === 'audio') {
    const audio = element as AudioElement
    return (
      <div key={audio.element_id || index} className="mb-3 flex flex-col justify-start px-2">
        <AudioView audio={audio} />
      </div>
    )
  }
  
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è message –∏ quiz
}
```

#### 4. –û–±–Ω–æ–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `handleNext()` –≤ `CoursePage` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ audio —ç–ª–µ–º–µ–Ω—Ç–æ–≤:
- Audio —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–µ —Ç—Ä–µ–±—É—é—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–æ—Å–ª–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è audio —ç–ª–µ–º–µ–Ω—Ç–∞ –º–æ–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É
- –ò–ª–∏ –∂–¥–∞—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è –≤—Å–µ—Ö –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤

#### 5. –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è AudioView

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å—Ç–∏–ª—è–º:**
- –¢–µ–∫—Å—Ç: –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Markdown/HTML —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, —Å—Ç–∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ message —ç–ª–µ–º–µ–Ω—Ç–∞–º
- Audio player:
  - –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —à–∏—Ä–∏–Ω–∞
  - –ù–∞—Ç–∏–≤–Ω—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª—ã –±—Ä–∞—É–∑–µ—Ä–∞ (play, pause, volume, progress)
  - –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è —Å –¥–∏–∑–∞–π–Ω–æ–º —á–∞—Ç–∞
- –ì—Ä—É–ø–ø–∞ –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤: –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Å –æ—Ç—Å—Ç—É–ø–∞–º–∏ –º–µ–∂–¥—É —Ñ–∞–π–ª–∞–º–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫: —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–æ–≤—Ç–æ—Ä–∞

#### 6. –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–µ–¥–∏–∞ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è

–î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ backend:
- –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ URL –ø—Ä–æ–∫—Å–∏ (`/api/mvp/media/proxy?url=...`) –≤ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π endpoint `/api/mvp/media/proxy` –¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å Google Drive —Å—Å—ã–ª–∫–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### Audio —Å —Ç–µ–∫—Å—Ç–æ–º (–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–µ—Ä–µ–¥ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ–º)

```yaml
Test_Audio_01:
  type: audio
  text: |
    üéß –ü—Ä–æ—Å–ª—É—à–∞–π –∞—É–¥–∏–æ.
    –í –Ω—ë–º –æ–ø–∏—Å–∞–Ω—ã 6 —Å–∏—Ç—É–∞—Ü–∏–π.
    
    –°–æ–æ—Ç–Ω–µ—Å–∏ –∫–∞–∂–¥–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –∫–∞—Ä—Ç–∏–Ω–∫–æ–π.
  media:
    - https://drive.google.com/uc?export=download&id=1_IQ4i20UoKYFRjMPIk7jorC8g81mUS-M
```

### Audio –±–µ–∑ —Ç–µ–∫—Å—Ç–∞ (—Ç–æ–ª—å–∫–æ –∞—É–¥–∏–æ —Ñ–∞–π–ª)

```yaml
Test_Audio_02:
  type: audio
  media:
    - https://example.com/audio.mp3
```

### Audio —Å –æ—Ç–∫–ª—é—á–µ–Ω–Ω—ã–º link_preview –¥–ª—è —Ç–µ–∫—Å—Ç–∞

```yaml
Test_Audio_03:
  type: audio
  text: |
    –ü—Ä–æ—Å–ª—É—à–∞–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é.
    –°—Å—ã–ª–∫–∞ –Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã: https://example.com/materials
  link_preview: no
  media:
    - https://example.com/instruction.mp3
```

### Audio —Å HTML —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º

```yaml
Test_Audio_04:
  type: audio
  parse_mode: HTML
  text: |
    <b>–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –Ω–∞ –∞—É–¥–∏—Ä–æ–≤–∞–Ω–∏–µ</b>
    
    –ü—Ä–æ—Å–ª—É—à–∞–π –¥–∏–∞–ª–æ–≥ –∏ –æ—Ç–≤–µ—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø–æ—Å–ª–µ –Ω–µ–≥–æ.
    
    <i>–í–Ω–∏–º–∞–Ω–∏–µ:</i> –ê—É–¥–∏–æ –º–æ–∂–Ω–æ –ø—Ä–æ—Å–ª—É—à–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑.
  media:
    - https://example.com/dialog.mp3
```

### Audio —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∞—É–¥–∏–æ —Ñ–∞–π–ª–∞–º–∏ (–≥—Ä—É–ø–ø–∞ –∞—É–¥–∏–æ)

```yaml
Test_Audio_05:
  type: audio
  text: |
    –ü—Ä–æ—Å–ª—É—à–∞–π —ç—Ç–∏ –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏—è.
    
    –û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∏–Ω—Ç–æ–Ω–∞—Ü–∏—é –∏ —É–¥–∞—Ä–µ–Ω–∏—è.
  media:
    - https://example.com/pronunciation1.mp3
    - https://example.com/pronunciation2.mp3
    - https://example.com/pronunciation3.mp3
```

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å audio
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏ –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤
   - HTML5 audio player —Å –Ω–∞—Ç–∏–≤–Ω—ã–º–∏ –∫–æ–Ω—Ç—Ä–æ–ª–∞–º–∏
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ backend

2. **–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –£–ª—É—á—à–µ–Ω–∏—è UX
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –ø–æ—Å–ª–µ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è
   - –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏—è
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤

3. **–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
   - –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª—ã –¥–ª—è audio player
   - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤–æ–ª–Ω–æ–≤–æ–π —Ñ–æ—Ä–º—ã –∞—É–¥–∏–æ
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ –∞—É–¥–∏–æ —Ñ–∞–π–ª–∞ –≤ –º–∞—Å—Å–∏–≤–µ `media`
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤ (MP3, M4A, OGG)
   - –í–∞–ª–∏–¥–∞—Ü–∏—è URL –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤

2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ audio —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤
   - Fallback –¥–ª—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ CORS –æ—à–∏–±–æ–∫ –ø—Ä–∏ –ø—Ä—è–º–æ–º –¥–æ—Å—Ç—É–ø–µ –∫ –∞—É–¥–∏–æ

3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
   - Lazy loading –¥–ª—è –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤ (–∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é)
   - –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ –∞—É–¥–∏–æ —Ñ–∞–π–ª–∞ (–µ—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ)
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤

4. **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (Accessibility):**
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –¥–ª—è audio player
   - ARIA –∞—Ç—Ä–∏–±—É—Ç—ã –¥–ª—è screen readers
   - –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ –¥–ª—è –∞—É–¥–∏–æ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã)

5. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:**
   - –û–±–µ—Å–ø–µ—á–∏—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∫—É—Ä—Å–∞–º–∏ –±–µ–∑ audio —ç–ª–µ–º–µ–Ω—Ç–æ–≤
   - –ö—É—Ä—Å—ã —Ç–æ–ª—å–∫–æ —Å `message` –∏ `quiz` —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ —Ä–∞–Ω—å—à–µ
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ –∏ –∏—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∞—É–¥–∏–æ

6. **–ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ–¥–∏–∞:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π endpoint `/api/mvp/media/proxy` –¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Google Drive —Å—Å—ã–ª–æ–∫ —á–µ—Ä–µ–∑ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∞—É–¥–∏–æ (–ø—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏, Google Drive, –æ–±–ª–∞—á–Ω—ã–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞)

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:

1. **–ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ audio —ç–ª–µ–º–µ–Ω—Ç–∞ —Å —Ç–µ–∫—Å—Ç–æ–º
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ audio —ç–ª–µ–º–µ–Ω—Ç–∞ –±–µ–∑ —Ç–µ–∫—Å—Ç–∞
   - –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –∞—É–¥–∏–æ —Ñ–∞–π–ª–∞
   - –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤

2. **–†–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:**
   - MP3 —Ñ–∞–π–ª—ã
   - M4A —Ñ–∞–π–ª—ã
   - OGG —Ñ–∞–π–ª—ã

3. **–†–∞–∑–ª–∏—á–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
   - Audio —Å Markdown —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Ç–µ–∫—Å—Ç–∞
   - Audio —Å HTML —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Ç–µ–∫—Å—Ç–∞
   - Audio —Å –æ—Ç–∫–ª—é—á–µ–Ω–Ω—ã–º `link_preview`
   - Audio —Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º `link_preview`

4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
   - –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ –∞—É–¥–∏–æ —Ñ–∞–π–ª—ã
   - –ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
   - –û—à–∏–±–∫–∏ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è

5. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
   - Audio –ø–æ—Å–ª–µ message —ç–ª–µ–º–µ–Ω—Ç–æ–≤
   - Audio –ø–æ—Å–ª–µ quiz —ç–ª–µ–º–µ–Ω—Ç–æ–≤
   - Message —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ—Å–ª–µ audio
   - Quiz —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ—Å–ª–µ audio
   - –ù–µ—Å–∫–æ–ª—å–∫–æ audio —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ–¥—Ä—è–¥
   - Audio –≤ –Ω–∞—á–∞–ª–µ –∫—É—Ä—Å–∞
   - Audio –≤ –∫–æ–Ω—Ü–µ –∫—É—Ä—Å–∞

6. **UX:**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É
   - –†–∞–±–æ—Ç–∞ —Å –Ω–∞—Ç–∏–≤–Ω—ã–º–∏ –∫–æ–Ω—Ç—Ä–æ–ª–∞–º–∏ –±—Ä–∞—É–∑–µ—Ä–∞
   - –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
   - –†–∞–±–æ—Ç–∞ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π

7. **–ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ Google Drive —Å—Å—ã–ª–æ–∫
   - –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä—è–º—ã—Ö —Å—Å—ã–ª–æ–∫
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ CORS –æ—à–∏–±–æ–∫

## API Endpoints

### –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ endpoints (–Ω–µ —Ç—Ä–µ–±—É—é—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π)

- `GET /api/mvp/media/proxy` - –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ–¥–∏–∞ —Ñ–∞–π–ª–æ–≤ (—É–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ)
- `GET /api/mvp/courses/{course_id}/current` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ (—Ç—Ä–µ–±—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ audio)
- `POST /api/mvp/courses/{course_id}/next` - –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É (—Ç—Ä–µ–±—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ audio)

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö endpoints

**GET `/api/mvp/courses/{course_id}/current`:**
- –î–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `AudioElement` –∏–ª–∏ —Å–ª–æ–≤–∞—Ä—å —Å –ø–æ–ª–µ–º `type: "audio"` –¥–ª—è audio —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ `AudioElement`

**POST `/api/mvp/courses/{course_id}/next`:**
- –î–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–µ—Ä–µ—Ö–æ–¥ –æ—Ç audio —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –î–æ–ª–∂–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è—Ç—å audio —ç–ª–µ–º–µ–Ω—Ç—ã –≤ conversation —Å —Ç–∏–ø–æ–º `"audio"`
- –î–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç (–º–æ–∂–µ—Ç –±—ã—Ç—å message, quiz –∏–ª–∏ audio)

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥:**
   - Audio —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–µ —Ç—Ä–µ–±—É—é—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ú–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è –≤—Å–µ—Ö –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤
   - –ò–ª–∏ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø–µ—Ä–µ—Ö–æ–¥ –ø–æ —Ç–∞–π–º–µ—Ä—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã –ø–æ—Å–ª–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è)

2. **–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∞—É–¥–∏–æ:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—Ç–∏–≤–Ω—ã–π HTML5 `<audio>` —ç–ª–µ–º–µ–Ω—Ç
   - –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –≤—Å–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª—ã –±—Ä–∞—É–∑–µ—Ä–∞
   - –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ–±—ã—Ç–∏—è `onEnded` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

3. **–ì—Ä—É–ø–ø–∞ –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤:**
   - –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ –≤ `media`, –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∏—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
   - –ö–∞–∂–¥—ã–π —Ñ–∞–π–ª –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º audio player
   - –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–∏–∫–∞—Ü–∏—é –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤

4. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ—Ç –∂–µ –ø–æ–¥—Ö–æ–¥, —á—Ç–æ –∏ –¥–ª—è message/quiz —ç–ª–µ–º–µ–Ω—Ç–æ–≤
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `ChatView` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å–∏—Å—Ç–µ–º—É –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –º–µ–¥–∏–∞ —Ñ–∞–π–ª–æ–≤
