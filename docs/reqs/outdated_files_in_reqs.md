# Устаревшие или неактуальные упоминания в web_migration_to_separate_repo.md

**Статус:** ✅ ВСЕ РЕКОМЕНДАЦИИ ВЫПОЛНЕНЫ

**Дата обновления:** 2024

## Файлы, которые были удалены (правильно)

Эти файлы упоминаются в reqs, но были удалены, что соответствует требованиям:

1. **`main.py`** - основной файл Telegram бота (удален ✅)
2. **`editor.py`** - редактор курсов через Telegram (удален ✅)
3. **`generator.py`** - генератор курсов через Telegram (удален ✅)
4. **`webreport.py`** - отчеты через Telegram WebApp (удален ✅)
5. **`bin/telegram/run.sh`** - скрипт запуска Telegram бота (удален ✅)
6. **`bin/telegram/run-api.sh`** - скрипт запуска API для Telegram (удален ✅)
7. **`bin/telegram/delete_webhook.py`** - утилита для удаления webhook (удален ✅)

## Файлы, которые устарели, но все еще существуют

### 1. `globals.py` 
**Статус:** ✅ УДАЛЕН

**Проблема:** 
- В reqs упоминалось как "скопировано из корня" (строка 35)
- Все зависимости от `globals.BOT_NAME`, `globals.BOT_FOLDER`, `globals.CONFIG_FILE` заменены на переменные окружения
- Файл больше не импортировался нигде в коде

**Выполнено:** 
- ✅ Файл `globals.py` удален
- ✅ Обновлено reqs: удалено упоминание о `globals.py` из структуры репозитория

### 2. Структура `backend/app/core/`

**Статус:** ✅ ОБНОВЛЕНО В REQS

**Проблема:**
- В reqs (Этап 8) планировалось создать `backend/app/core/` и переместить туда модули
- В реальности модули остались в корне проекта:
  - `db.py` - в корне (не в `backend/app/core/db.py`)
  - `course.py` - в корне (не в `backend/app/core/course.py`)
  - `chat.py` - в корне (не в `backend/app/core/llm.py`)
  - `elements/` - в корне (не в `backend/app/core/elements/`)
  - `utils.py` - в корне (не в `backend/app/core/utils.py`)

**Текущая структура:**
```
webapp/backend/app/core/
├── __init__.py
├── config.py      # Существует, но это другой модуль
└── security.py    # Существует, но это другой модуль
```

**Выполнено:**
- ✅ Обновлено reqs: Этап 8 помечен как опциональный
- ✅ Добавлено примечание, что текущая структура (модули в корне) является допустимым решением
- ✅ Обновлены все упоминания путей к модулям в reqs

## Устаревшие упоминания в reqs

### 1. Строка 35: `globals.py`
```markdown
├── globals.py          # Скопировано из корня
```
**Статус:** ✅ ОБНОВЛЕНО - упоминание удалено из структуры репозитория

### 2. Этап 8 (строки 409-457): Организация структуры модулей
**Статус:** ✅ ОБНОВЛЕНО - помечен как опциональный, добавлено примечание о текущей структуре

**Обновленные задачи:**
- Помечены как опциональные с примечанием, что модули остались в корне
- Добавлено описание текущей структуры
- Добавлено описание альтернативной структуры (если требуется реорганизация)

### 3. Строки 626-629: Тесты для app/core/
**Статус:** ✅ ОБНОВЛЕНО - пути обновлены на реальные пути в корне проекта

```markdown
- [ ] Написать тесты для `db.py` (в корне проекта)
- [ ] Написать тесты для `course.py` (в корне проекта)
- [ ] Написать тесты для `chat.py` (в корне проекта)
- [ ] Написать тесты для `elements/` (в корне проекта)
```

### 4. Строки 442-445: Обновление импортов
**Статус:** ✅ ОБНОВЛЕНО - добавлено описание текущего состояния и альтернативного варианта

```markdown
# ТЕКУЩЕЕ СОСТОЯНИЕ (модули в корне):
import db
import course
from elements import element_registry

# ЕСЛИ ВЫПОЛНЯЕТСЯ РЕОРГАНИЗАЦИЯ:
from app.core import db, course
from app.core.elements import element_registry
```

### 5. Строки 760-762: Чеклист организации структуры
**Статус:** ✅ ОБНОВЛЕНО - помечен как опциональный

```markdown
### Организация структуры (ОПЦИОНАЛЬНО)
- [ ] Создать `backend/app/core/` (не выполнено - модули остались в корне)
- [ ] Переместить модули в `app/core/` (не выполнено - модули остались в корне)
- [x] Обновить все импорты (не требуется, т.к. модули в корне) ✅
```

## Файлы, которые упоминаются, но не существуют

### 1. `waiting.py`
**Статус:** Файл существует и используется, но упоминается в контексте Telegram

**Проблема:** 
- В reqs не упоминается явно, но содержит функции для работы с Telegram ботом
- Файл был очищен от зависимостей от `bot`, но все еще существует

**Рекомендация:** 
- Файл актуален, но можно добавить в reqs упоминание о его очистке

## Рекомендации по обновлению reqs

**Статус:** ✅ ВСЕ РЕКОМЕНДАЦИИ ВЫПОЛНЕНЫ

1. ✅ **Удалить упоминание `globals.py`** из структуры репозитория - ВЫПОЛНЕНО

2. ✅ **Обновить Этап 8:**
   - Отмечен как "опциональный" - ВЫПОЛНЕНО
   - Добавлено описание текущей структуры - ВЫПОЛНЕНО
   - Добавлено описание альтернативной структуры - ВЫПОЛНЕНО

3. ✅ **Обновить чеклист:**
   - Отмечены выполненные задачи - ВЫПОЛНЕНО
   - Помечены как "опционально" задачи по перемещению в `app/core/` - ВЫПОЛНЕНО

4. ✅ **Добавить раздел о выполненных задачах:**
   - Создан раздел "Статус выполнения" с отметками о завершении - ВЫПОЛНЕНО

5. ✅ **Обновить структуру репозитория:**
   - Убрано `globals.py` - ВЫПОЛНЕНО
   - Уточнено, что модули находятся в корне - ВЫПОЛНЕНО
   - Добавлено `waiting.py` в структуру - ВЫПОЛНЕНО

## Итоговый список файлов для удаления/обновления

### Файлы для удаления:
- ✅ `globals.py` - удален (больше не используется)

### Упоминания в reqs для обновления:
- ✅ Строка 35: удалить `globals.py` из структуры - ОБНОВЛЕНО
- ✅ Этап 8: пометить как не выполненный или удалить - ОБНОВЛЕНО (помечен как опциональный)
- ✅ Строки 626-629: обновить пути к тестам - ОБНОВЛЕНО
- ✅ Строки 442-445: обновить примеры импортов - ОБНОВЛЕНО
- ✅ Строки 760-762: обновить чеклист - ОБНОВЛЕНО
- ✅ Добавлен раздел "Статус выполнения" - ВЫПОЛНЕНО
- ✅ Обновлены все примеры кода с пометками "ВЫПОЛНЕНО" - ВЫПОЛНЕНО
- ✅ Обновлен чеклист с отметками о выполнении - ВЫПОЛНЕНО

## Статус обновления reqs

**Дата:** 2024

**Все рекомендации выполнены:**
- ✅ Файл `globals.py` удален
- ✅ Все упоминания в reqs обновлены
- ✅ Добавлен раздел о статусе выполнения
- ✅ Все примеры кода обновлены с пометками о выполнении
- ✅ Чеклист обновлен с отметками о выполненных задачах
