# Задача

У меня есть PRD Telegram-версии обучающего чат-приложения (далее — Telegram PRD). На его основе нужно создать PRD для Web-версии того же продукта (далее — Web PRD).

Web PRD должен быть полноценным документом, который:

1. **Сохраняет логику Telegram-продукта**, но адаптирует её к Web UI и веб-опыту обучения.
2. **Не описывает Telegram-специфичные механики** (команды, сообщения, инлайн-кнопки, ограничение на формат медиаконтента, особенности отправки аудио/документов в чате).
3. **Добавляет Web-специфичный функционал**, в том числе:
   - нормальный веб-чат с историей сообщений,
   - отображение шагов урока (video, pdf, message, quiz, chat),
   - прогресс обучения по курсу,
   - отображение мультимедиа внутри интерфейса (встроенные видео, просмотр PDF, карточки),
   - ввод ответов на квизы,
   - полноценный layout,
   - stateful навигацию (страницы: список курсов, урок, чат).

4. **Согласован с выбранной архитектурой Web-приложения**:
   - Frontend: Next.js 14 + TypeScript
   - Backend: Python + FastAPI
   - DB: PostgreSQL
   - Хранение сущностей: User, Course, Lesson, LessonStep, ChatSession, ChatMessage, QuizAttempt
   - Типы шагов урока: `message`, `video`, `pdf`, `quiz_single_choice`, `chat`
   - Чат с LLM через `/chat` endpoint (FastAPI → LLM client)
   - Docker Compose для локального запуска (frontend + backend + db)

5. **Учитывает, что Web-приложение является обучающим продуктом**, а не просто чат-ботом:
   - Пользователь выполняет курс, проходя Lesson → LessonStep.
   - Внутри LessonStep может быть Media, Quiz или Chat.
   - Чат используется как обучающий элемент (LLM-act tutor).
   - Возможен прогресс, сохранение попыток квиза и сессий чата.

6. **Оформлен в виде структурного PRD**, а не просто описания.

## Исходные данные

В качестве входного материала будет предоставлен Telegram PRD.
Ты должен читать его содержимое, не игнорировать детали, но не копировать механики напрямую.

## Ожидаемый формат результата

Структура Web PRD должна включать:

1. **Purpose / Goals**
2. **User Stories / Use Cases**
3. **Key Concepts**
4. **Entities (обязательно с влиянием на архитектуру)**
5. **Feature Requirements (разбить на функциональные блоки)**
6. **Flows (User Flow + Data Flow)**
7. **UI/UX View (без полной дизайна, но с описанием поведения компонентов)**
8. **Non-Functional Requirements**
9. **Out of Scope (что НЕ делаем)**
10. **Open Questions (что нужно уточнить)**

Дополнительно:

- В Web PRD должны быть явные ссылки на принятые архитектурные элементы (Next.js, FastAPI, DB-schema).
- Формулировки должны быть ясными, инженерно-ориентированными и пригодными для разработки.

## Важные указания

- Не надо автоматически расширять продукт, не нужно добавлять «маркеты», «платёжки», «соцфичи» и т.п.
- Не нужно проектировать дизайн, но нужно описывать UX/flows.
- Не нужно придумывать контент обучения, он в данном документе не важен.
- Не нужно генерировать код — только PRD.
- Нужно сохранить понятия обучения, LLM и шагов урока, но заменить Telegram-механику на Web-интерфейс.

После генерации Web PRD — остановись и жди подтверждения.

