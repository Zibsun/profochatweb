# Установка зависимостей для работы с базой данных

## Проблема

При сборке Next.js возникает ошибка:
```
Module not found: Can't resolve 'pg'
```

## Решение

Необходимо установить пакет `pg` и его типы:

```bash
cd webapp/frontend
npm install pg @types/pg
```

Если возникают проблемы с сетью, попробуйте:

1. Проверить подключение к интернету
2. Использовать другой registry:
   ```bash
   npm install pg @types/pg --registry https://registry.npmjs.org/
   ```
3. Использовать yarn вместо npm:
   ```bash
   yarn add pg @types/pg
   ```

## Проверка установки

После установки проверьте, что пакеты добавлены в `package.json`:

```json
{
  "dependencies": {
    "pg": "^8.11.3"
  },
  "devDependencies": {
    "@types/pg": "^8.10.9"
  }
}
```

## Настройка Next.js

Конфигурация `next.config.js` уже обновлена для работы с нативными модулями:

```javascript
serverComponentsExternalPackages: ['pg'],
```

Это гарантирует, что `pg` будет использоваться только на сервере и не попадет в клиентский бандл.

## Перезапуск dev сервера

После установки зависимостей перезапустите dev сервер:

```bash
npm run dev
```

## Альтернативное решение

Если установка `pg` невозможна, можно временно использовать mock данные, закомментировав импорты в API routes и используя mock функции.
